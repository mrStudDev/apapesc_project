
{% extends 'base.html' %}
{% load static %}

{% block dashboard %}

<body class="font-sans bg-gray-100 text-gray-900">

  <!-- Navbar (já configurada, incluímos no topo) -->
  {% include 'components/navbar_apapesc.html' %}

  <!-- Container geral para o conteúdo -->
  <div  class="flex flex-col min-h-screen max-w-7xl mx-auto px-6 py-8">
    <!-- Área de conteúdo principal -->
    <div class="flex-1 p-6">
      <!-- Painéis de dados -->
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">

        <!-- Painel de Associados -->
        <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md mx-auto">
          <h3 class="text-xl font-semibold text-gray-800">Associados Cadastrados</h3>
          <div class="mt-4 text-5xl font-bold text-blue-500">{{ total_associados }}</div>
          <div class="mt-2 text-sm text-gray-600">
            <hr class="my-3 border-gray-300">
            <div class="grid grid-cols-2 gap-y-2">
              <div>
                <p class="font-medium text-gray-700">Ativos:</p>
                <p>{{ associados_ativos }}</p>
              </div>
              <div>
                <p class="font-medium text-gray-700">Aposentados:</p>
                <p>{{ associados_aposentados }}</p>
              </div>
              <div>
                <p class="font-medium text-gray-700">Masculino:</p>
                <p>{{ associados_homens }}</p>
              </div>
              <div>
                <p class="font-medium text-gray-700">Feminino:</p>
                <p>{{ associados_mulheres }}</p>
              </div>
              <div>
                <p class="font-medium text-gray-700">Indefinidos:</p>
                <p>{{ associados_indefinidos }}</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Painel de Embarcações -->
        <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md mx-auto">
          <h3 class="text-xl font-semibold text-gray-800">Embarcações Cadastradas</h3>
          <div class="mt-4 text-5xl font-bold text-blue-500">0</div>
          <div class="mt-2 text-sm text-gray-600">
            <hr class="my-3 border-gray-300">
            <div class="grid grid-cols-2 gap-y-2">
              <div>
                <p class="font-medium text-gray-700">Motor:</p>
                <p>0</p>
              </div>
              <div>
                <p class="font-medium text-gray-700">Vela:</p>
                <p>0</p>
              </div>
              <div>
                <p class="font-medium text-gray-700">Outra Info:</p>
                <p>0</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Painel de Licenças -->
        <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md mx-auto">
          <h3 class="text-xl font-semibold text-gray-800">Licenças Cadastradas</h3>
          <div class="mt-4 text-5xl font-bold text-blue-500">0</div>
          <div class="mt-2 text-sm text-gray-600">
            <hr class="my-3 border-gray-300">
            <div class="grid grid-cols-2 gap-y-2">
              <div>
                <p class="font-medium text-gray-700">Tipo I:</p>
                <p>0</p>
              </div>
              <div>
                <p class="font-medium text-gray-700">Tipo II:</p>
                <p>0</p>
              </div>
              <div>
                <p class="font-medium text-gray-700">Tipo III:</p>
                <p>0</p>
              </div>
              <div>
                <p class="font-medium text-gray-700">Tipo IV:</p>
                <p>0</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Painel de Relatórios -->
        <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md mx-auto">
          <h3 class="text-xl font-semibold text-gray-800">Admin</h3>
          <div class="mt-4 text-4xl font-bold text-blue-500">Receitas</div>
          <div class="mt-4 text-sm text-gray-600">
            <hr class="my-3 border-gray-300">
            <ul class="space-y-3">
              <li>
                <a href="#" class="flex items-center text-gray-700 hover:text-blue-500 transition-colors">
                  <i class="material-icons mr-2">assessment</i>
                  Relatório de pagamentos
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center text-gray-700 hover:text-blue-500 transition-colors">
                  <i class="material-icons mr-2">pending_actions</i>
                  Relatório de pendentes
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center text-gray-700 hover:text-blue-500 transition-colors">
                  <i class="material-icons mr-2">request_quote</i>
                  Gerar boleto anuidades
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center text-gray-700 hover:text-blue-500 transition-colors">
                  <i class="material-icons mr-2">settings</i>
                  Configurar Taxas
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center text-gray-700 hover:text-blue-500 transition-colors">
                  <i class="material-icons mr-2">send</i>
                  Enviar cobrança
                </a>
              </li>
            </ul>
          </div>
        </div>

        <!-- Painel de Agendamentos -->
        <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md mx-auto">
          <h3 class="text-xl font-semibold text-black-600">Agendamentos</h3>
          <div class="mt-4 text-5xl font-bold text-green-600">0</div>
          <div class="mt-4 text-sm text-gray-600">
            <hr class="my-3 border-gray-300">
            <ul class="space-y-2">
              <li>
                <a href="#" class="flex items-center text-gray-700 hover:text-blue-600 transition-colors">
                  <i class="material-icons mr-2">event</i>
                  Agendamento 1
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center text-gray-700 hover:text-blue-600 transition-colors">
                  <i class="material-icons mr-2">event</i>
                  Agendamento 2
                </a>
              </li>
              <!-- Additional Agendamentos links -->
            </ul>
          </div>
        </div>

        <!-- Painel de Tarefas -->
        <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md mx-auto">
          <h3 class="text-xl font-semibold text-black-600">Tarefas</h3>
          <div class="mt-4 text-5xl font-bold text-orange-600">0</div>
          <div class="mt-4 text-sm text-gray-600">
            <hr class="my-3 border-gray-300">
            <ul class="space-y-2">
              <li>
                <a href="#" class="flex items-center text-gray-700 hover:text-green-600 transition-colors">
                  <i class="material-icons mr-2">check_circle</i>
                  Tarefa 1
                </a>
              </li>
              <!-- Additional Tarefas links -->
            </ul>
          </div>
        </div>

    </div>

    <!-- Painel de Detalhes com tabelas adicionais -->
    <div class="bg-white p-8 mt-12 rounded-lg shadow-lg">
      <h2 class="text-2xl font-bold text-gray-800 text-center mb-8">Painel de Detalhes</h2>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-12">

        <!-- Tabela de Repartições -->
        <div>
          <h3 class="text-xl font-semibold text-gray-800">Repartições</h3>
          <p class="mt-2 text-gray-600">Contagem de associados por repartição.</p>
          <div class="overflow-x-auto mt-4">
            <table class="min-w-full bg-white border border-gray-300 rounded-md">
              <thead class="bg-gray-100">
                <tr>
                  <th class="py-3 px-4 border-b text-left text-gray-700 font-semibold">Repartição</th>
                  <th class="py-3 px-4 border-b text-left text-gray-700 font-semibold">Associados</th>
                </tr>
              </thead>
              <tbody>
                {% for reparticao in associados_por_reparticao %}
                  <tr class="border-b hover:bg-gray-50">
                    <td class="py-3 px-4 text-gray-800">{{ reparticao.nome_reparticao }}</td>
                    <td class="py-3 px-4 text-gray-800">{{ reparticao.associados_count }}</td>
                  </tr>
                {% empty %}
                  <tr>
                    <td colspan="2" class="py-3 px-4 text-center text-gray-500">Nenhuma repartição encontrada.</td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>

        <!-- Tabela de Municípios de Circunscrição -->
        <div>
          <h3 class="text-xl font-semibold text-gray-800">Municípios de Circunscrição</h3>
          <p class="mt-2 text-gray-600">Contagem de associados por município.</p>
          <div class="overflow-x-auto mt-4">
            <table class="min-w-full bg-white border border-gray-300 rounded-md">
              <thead class="bg-gray-100">
                <tr>
                  <th class="py-3 px-4 border-b text-left text-gray-700 font-semibold">Município</th>
                  <th class="py-3 px-4 border-b text-left text-gray-700 font-semibold">Associados</th>
                </tr>
              </thead>
              <tbody>
                {% for municipio in associados_por_municipio %}
                  <tr class="border-b hover:bg-gray-50">
                    <td class="py-3 px-4 text-gray-800">{{ municipio.municipio }}</td>
                    <td class="py-3 px-4 text-gray-800">{{ municipio.associados_count }}</td>
                  </tr>
                {% empty %}
                  <tr>
                    <td colspan="2" class="py-3 px-4 text-center text-gray-500">Nenhum município encontrado.</td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>

      </div>
    </div>

  </div>





        <!-- Painel de Detalhes com Gráficos -->
        <div class="bg-white p-12 rounded-lg shadow-lg w-full col-span-full">
          <h3 class="text-xl font-semibold text-gray-800">Detalhes Adicionais</h3>
          <p class="mt-2 text-gray-600">Gráfico de Associados Ativos por Mês</p>
          <div class="w-full max-w-md mx-auto">
            <canvas id="chart1" class="mt-6 h-48"></canvas>
          </div>
        </div>
        <!-- Painel de Detalhes -->
        <div class="bg-white p-12 rounded-lg shadow-lg w-full col-span-full">
          <h3 class="text-xl font-semibold text-gray-800">Detalhes Adicionais</h3>
          <p class="mt-2 text-gray-600">Aqui você pode adicionar gráficos, tabelas e outros dados relevantes para visualização detalhada.</p>
        </div>
        <!-- Painel de Detalhes com Gráficos -->
        <div class="bg-white p-12 rounded-lg shadow-lg w-full col-span-full">
          <h3 class="text-xl font-semibold text-gray-800">Detalhes Adicionais</h3>
          <p class="mt-2 text-gray-600">Distribuição por Gênero</p>
          <div class="w-full max-w-md mx-auto">
            <canvas id="chart2" class="mt-6 h-48"></canvas>
          </div>
        </div>
                <!-- Painel de Detalhes -->
        <div class="bg-white p-12 rounded-lg shadow-lg w-full col-span-full">
          <h3 class="text-xl font-semibold text-gray-800">Detalhes Adicionais</h3>
          <p class="mt-2 text-gray-600">Aqui você pode adicionar gráficos, tabelas e outros dados relevantes para visualização detalhada.</p>
        </div>
        <div class="bg-white p-12 rounded-lg shadow-lg w-full col-span-full">
          <h3 class="text-xl font-semibold text-gray-800">Detalhes Adicionais</h3>
          <p class="mt-2 text-gray-600">Distribuição de Licenças por Tipo</p>
          <div class="w-full max-w-md mx-auto">
            <canvas id="chart3" class="mt-6 h-48"></canvas>
          </div>
        </div>

      </div>
    </div>

    <script>
    // Gráfico de Associados Ativos por Mês
    const ctx1 = document.getElementById('chart1').getContext('2d');
    new Chart(ctx1, {
      type: 'line',
      data: {
        labels: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho'],
        datasets: [{
          label: 'Associados Ativos',
          data: [10, 15, 20, 25, 30, 35],
          borderColor: 'rgba(54, 162, 235, 1)',
          backgroundColor: 'rgba(54, 162, 235, 0.2)',
          borderWidth: 2,
          fill: true
        }]
      },
      options: { responsive: true, maintainAspectRatio: true }
    });

    // Gráfico de Distribuição por Gênero
    const ctx2 = document.getElementById('chart2').getContext('2d');
    new Chart(ctx2, {
      type: 'pie',
      data: {
        labels: ['Masculino', 'Feminino', 'Indefinido'],
        datasets: [{
          data: [60, 30, 10],
          backgroundColor: ['#36A2EB', '#FF6384', '#FFCE56'],
        }]
      },
      options: { responsive: true, maintainAspectRatio: true }
    });

    // Gráfico de Distribuição de Licenças por Tipo
    const ctx3 = document.getElementById('chart3').getContext('2d');
    new Chart(ctx3, {
      type: 'bar',
      data: {
        labels: ['Tipo I', 'Tipo II', 'Tipo III', 'Tipo IV'],
        datasets: [{
          label: 'Licenças',
          data: [12, 19, 3, 5],
          backgroundColor: 'rgba(75, 192, 192, 0.5)',
          borderColor: 'rgba(75, 192, 192, 1)',
          borderWidth: 1
        }]
      },
      options: { responsive: true, maintainAspectRatio: true }
    });
  </script>
</body>
{% endblock dashboard %}
